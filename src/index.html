<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title>gallery+</title>

  <!-- Image link template to be reused. -->
  <script id="link" type="text/html">
    <a-entity
      class="link"
      geometry="primitive: plane; height: 2; width: 2"
      look-at="[camera]"
      material="shader: flat; src: ${thumb}"
      event-set__mouseenter="scale: 1.5 1.5 1"
      event-set__mouseleave="scale: 1 1 1"
      onclick="clickLink(event)"
    ></a-entity>
  </script>

  <script>
    function clickLink(event) {
      if (event.detail.cursorEl.id === "click-cursor") {
        console.log(event.target.parentElement.dataset['thumb'])
      }
    }
  </script>

</head>
<body>

  <a-scene>

    <a-sky
      color="#000"
    >
    </a-sky>

    <a-assets>
      <img
        id="cubes-thumb"
        crossorigin="anonymous"
        src="https://cdn.aframe.io/360-image-gallery-boilerplate/img/thumb-cubes.jpg">
    </a-assets>

    <!-- images -->
    <a-entity layout="type: circle; radius: 8; plane: xz" position="0 3 0">
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
    </a-entity>

    <a-entity layout="type: circle; radius: 8; plane: xz" position="0 0 0">
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
    </a-entity>

    <a-entity layout="type: circle; radius: 8; plane: xz" position="0 -3 0">
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
    </a-entity>

    <a-entity layout="type: circle; radius: 8; plane: xz" position="0 -7 0">
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>

      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
      <a-entity template="src: #link" data-thumb="#cubes-thumb"></a-entity>
    </a-entity>

    <!-- camera -->
    <a-entity position="0 0 0">
      <a-entity
        id="camera"
        camera
        look-controls="reverseMouseDrag: true"
      >
        <a-entity
          id="click-cursor"
          cursor="rayOrigin: mouse"
          raycaster="objects: .link"
        >
        </a-entity>
        <a-entity
          id="hover-cursor"
          only-mobile
          position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.03; radiusOuter: 0.05;"
          material="color: #b2ff59; shader: flat"
          cursor
          raycaster="objects: .link"
        >
          <a-animation
            begin="fusing"
            easing="ease-in"
            attribute="scale"
            fill="backwards"
            from="1 1 1" to="0.2 0.2 0.2" dur="1500"
          ></a-animation>
        </a-entity>
      </a-entity>
    </a-entity>

  </a-scene>

</body>
</html>
